<div class="container">
  <h2>Update Client National ID</h2>
  
  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading client details...</p>
  </div>

  <!-- Content when not loading -->
  <div *ngIf="!isLoading">
    <div class="stepper">
      <div *ngFor="let step of steps; let i = index" 
           [class.active]="currentStep === i">
        {{ step }}
      </div>
    </div>

    <form>
      <!-- Client Information Step -->
      <div class="card">
        <div class="card-header">Client Information</div>
        <div class="card-body" [formGroup]="firstFormGroup">
          
          <!-- National ID -->
          <div class="form-group">
            <label for="nationalId">National ID *</label>
            <input 
              type="text" 
              id="nationalId"
              formControlName="nationalId"
              placeholder="Enter national ID"
              [class.error]="firstFormGroup.get('nationalId')?.invalid && firstFormGroup.get('nationalId')?.touched"
            >
            <div *ngIf="firstFormGroup.get('nationalId')?.invalid && firstFormGroup.get('nationalId')?.touched" class="error-message">
              <span *ngIf="firstFormGroup.get('nationalId')?.errors?.['required']">National ID is required</span>
              <span *ngIf="firstFormGroup.get('nationalId')?.errors?.['pattern']">National ID must contain only numbers</span>
            </div>
          </div>

        </div>
      </div>

      <!-- Action Buttons -->
      <div class="text-center">
        <app-custom-button
          buttonClass="btn-back"
          [disabled]="isSubmitting"
          (onClick)="goBack()"
        >
          Back
        </app-custom-button>

                 <app-custom-button
          buttonClass="btn-submit"
          [disabled]="firstFormGroup.invalid || isSubmitting"
          (onClick)="submitForm()"
        >
          {{ isSubmitting ? 'Updating...' : 'Update National ID' }}
        </app-custom-button>
      </div>
    </form>
  </div>
</div>
