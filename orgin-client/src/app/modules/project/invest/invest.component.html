<div class="invest-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    <p>{{ 'invest.loading' | translate }}</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
  </div>

  <!-- Project Details -->
  <div *ngIf="project && !loading" class="project-details">
    <div class="project-header">
      <img [src]="project.image" [alt]="project.title" class="project-image">
      <h1>{{ project.title }}</h1>
    </div>
    
    <div class="project-info">
      <div class="info-grid">
        <div class="info-item">
          <strong>{{ 'invest.type' | translate }}:</strong> {{ project.type }}
        </div>
        <div class="info-item">
          <strong>{{ 'invest.category' | translate }}:</strong> {{ project.category }}
        </div>
        <div class="info-item">
          <strong>{{ 'invest.status' | translate }}:</strong> {{ project.status }}
        </div>
        <div class="info-item">
          <strong>{{ 'invest.owner' | translate }}:</strong> {{ project.owner }}
        </div>
      </div>
      
      <p class="project-description">
        {{ truncateText(project.description, 80) }}
        <button 
          *ngIf="shouldShowViewMore(project.description, 80)" 
          class="view-more-btn" 
          (click)="showFullText(project.description, 'Project Description')"
        >
          view more
        </button>
      </p>
      
      <div class="project-actions">
        <button 
          *ngIf="project.isInvestment" 
          class="invest-btn"
          (click)="investNow()"
        >
          {{ 'invest.investNow' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Popup Modal for Full Text -->
<div class="popup-overlay" *ngIf="showPopup" (click)="closePopup()">
  <div class="popup-content" (click)="$event.stopPropagation()">
    <div class="popup-header">
      <h3>{{ popupTitle }}</h3>
      <button class="popup-close" (click)="closePopup()">
        <i class="material-icons">close</i>
      </button>
    </div>
    <div class="popup-body">
      <p>{{ popupContent }}</p>
    </div>
  </div>
</div>
